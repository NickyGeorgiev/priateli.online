{"ast":null,"code":"import _slicedToArray from\"C:/Users/Niki PC/Documents/GitHub/react-priateli.online/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{CartItems}from\"./CartItems\";import{ItemsInCart}from\"../contexts/ItemsInCart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Cart=function Cart(_ref){var deleteFromCart=_ref.deleteFromCart,activateForm=_ref.activateForm;var _useState=useState([0]),_useState2=_slicedToArray(_useState,2),totalPriceArr=_useState2[0],setTotalPriceArr=_useState2[1];var items=useContext(ItemsInCart);var getQty=function getQty(){setTotalPriceArr(items.map(function(x){return x.quantity*x.price;}));};var deleteChangeQty=function deleteChangeQty(){setTotalPriceArr(items.map(function(x){return x.quantity*x.price;}));};var finalSum=totalPriceArr.reduce(function(a,b){return a+b;});if(items.length!=0){return/*#__PURE__*/_jsxs(\"section\",{id:\"cart-section\",className:\"cart\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u043A\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"headers\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:\"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-price\",children:\"\\u0426\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-quantity\",children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"})]}),items.map(function(x,i){return x.isRendered&&/*#__PURE__*/_jsx(CartItems,{info:x,deleteFromCart:deleteFromCart,getQty:getQty,deleteChangeQty:deleteChangeQty},i);}),/*#__PURE__*/_jsxs(\"div\",{className:\"total\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"shipping\",children:[\"\\u0426\\u0435\\u043D\\u0430 \\u0437\\u0430 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430: \",/*#__PURE__*/_jsx(\"span\",{id:\"dostavka-price\",children:\"1.99\"}),\" \\u043B\\u0432.\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"total-title\",children:\"\\u041E\\u0431\\u0449\\u0430 \\u0441\\u0443\\u043C\\u0430:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"total-price\",children:[(finalSum+1.99).toFixed(2),\" \\u043B\\u0432.\"]})]}),finalSum>15&&/*#__PURE__*/_jsx(\"button\",{className:\"continue\",onClick:activateForm,children:\"\\u041F\\u0440\\u043E\\u0434\\u044A\\u043B\\u0436\\u0435\\u0442\\u0435 \\u0441 \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430\\u0442\\u0430\"})]});}};","map":{"version":3,"names":["useContext","useEffect","useState","CartItems","ItemsInCart","Cart","deleteFromCart","activateForm","totalPriceArr","setTotalPriceArr","items","getQty","map","x","quantity","price","deleteChangeQty","finalSum","reduce","a","b","length","i","isRendered","toFixed"],"sources":["C:/Users/Niki PC/Documents/GitHub/react-priateli.online/src/components/cart/Cart.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\"\r\nimport { CartItems } from \"./CartItems\"\r\nimport { ItemsInCart } from \"../contexts/ItemsInCart\"\r\n\r\nexport const Cart = ({ deleteFromCart, activateForm }) => {\r\n    let [totalPriceArr, setTotalPriceArr] = useState([0])\r\n    let items = useContext(ItemsInCart)\r\n\r\n    const getQty = () => {\r\n        setTotalPriceArr(items.map(x => x.quantity * x.price))\r\n    }\r\n\r\n    const deleteChangeQty = () => {\r\n        setTotalPriceArr(items.map(x => x.quantity * x.price))\r\n    }\r\n\r\n    let finalSum = totalPriceArr.reduce((a, b) => a + b)\r\n\r\n    if (items.length != 0) {\r\n        return (\r\n            <section id=\"cart-section\" className=\"cart\">\r\n                <h4>Количка</h4>\r\n                <div className=\"headers\">\r\n                    <div className=\"cart-item\">Продукти</div>\r\n                    <div className=\"cart-price\">Цена</div>\r\n                    <div className=\"cart-quantity\">Количество</div>\r\n                </div>\r\n                {items.map((x, i) => x.isRendered && <CartItems\r\n                    key={i}\r\n                    info={x}\r\n                    deleteFromCart={deleteFromCart}\r\n                    getQty={getQty}\r\n                    deleteChangeQty={deleteChangeQty}\r\n                />)}\r\n                <div className=\"total\">\r\n                    <span className=\"shipping\">Цена за доставка: <span id=\"dostavka-price\">1.99</span> лв.</span>\r\n                    <span className=\"total-title\">Обща сума:</span>\r\n                    <span className=\"total-price\">{(finalSum + 1.99).toFixed(2)} лв.</span>\r\n                </div>\r\n                {finalSum > 15 && <button className=\"continue\" onClick={activateForm} >Продължете с поръчката</button>}\r\n            </section>\r\n        )\r\n    }\r\n}"],"mappings":"6IAAA,OAASA,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,WAAT,KAA4B,yBAA5B,C,wFAEA,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAO,MAAsC,IAAnCC,eAAmC,MAAnCA,cAAmC,CAAnBC,YAAmB,MAAnBA,YAAmB,CACtD,cAAwCL,QAAQ,CAAC,CAAC,CAAD,CAAD,CAAhD,wCAAKM,aAAL,eAAoBC,gBAApB,eACA,GAAIC,MAAK,CAAGV,UAAU,CAACI,WAAD,CAAtB,CAEA,GAAMO,OAAM,CAAG,QAATA,OAAS,EAAM,CACjBF,gBAAgB,CAACC,KAAK,CAACE,GAAN,CAAU,SAAAC,CAAC,QAAIA,EAAC,CAACC,QAAF,CAAaD,CAAC,CAACE,KAAnB,EAAX,CAAD,CAAhB,CACH,CAFD,CAIA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC1BP,gBAAgB,CAACC,KAAK,CAACE,GAAN,CAAU,SAAAC,CAAC,QAAIA,EAAC,CAACC,QAAF,CAAaD,CAAC,CAACE,KAAnB,EAAX,CAAD,CAAhB,CACH,CAFD,CAIA,GAAIE,SAAQ,CAAGT,aAAa,CAACU,MAAd,CAAqB,SAACC,CAAD,CAAIC,CAAJ,QAAUD,EAAC,CAAGC,CAAd,EAArB,CAAf,CAEA,GAAIV,KAAK,CAACW,MAAN,EAAgB,CAApB,CAAuB,CACnB,mBACI,iBAAS,EAAE,CAAC,cAAZ,CAA2B,SAAS,CAAC,MAArC,wBACI,kEADJ,cAEI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,WAAf,8DADJ,cAEI,YAAK,SAAS,CAAC,YAAf,sCAFJ,cAGI,YAAK,SAAS,CAAC,eAAf,0EAHJ,GAFJ,CAOKX,KAAK,CAACE,GAAN,CAAU,SAACC,CAAD,CAAIS,CAAJ,QAAUT,EAAC,CAACU,UAAF,eAAgB,KAAC,SAAD,EAEjC,IAAI,CAAEV,CAF2B,CAGjC,cAAc,CAAEP,cAHiB,CAIjC,MAAM,CAAEK,MAJyB,CAKjC,eAAe,CAAEK,eALgB,EAC5BM,CAD4B,CAA1B,EAAV,CAPL,cAcI,aAAK,SAAS,CAAC,OAAf,wBACI,cAAM,SAAS,CAAC,UAAhB,mHAA6C,aAAM,EAAE,CAAC,gBAAT,kBAA7C,oBADJ,cAEI,aAAM,SAAS,CAAC,aAAhB,gEAFJ,cAGI,cAAM,SAAS,CAAC,aAAhB,WAA+B,CAACL,QAAQ,CAAG,IAAZ,EAAkBO,OAAlB,CAA0B,CAA1B,CAA/B,oBAHJ,GAdJ,CAmBKP,QAAQ,CAAG,EAAX,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAEV,YAAtC,wIAnBtB,GADJ,CAuBH,CACJ,CAvCM"},"metadata":{},"sourceType":"module"}