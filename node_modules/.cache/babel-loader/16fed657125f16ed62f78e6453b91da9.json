{"ast":null,"code":"import{useContext,useState}from\"react\";import{ItemsInCart}from\"../contexts/ItemsInCart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Form=function Form(_ref){var purchase=_ref.purchase;var items=useContext(ItemsInCart);var total=items.map(function(x){return x.price*x.quantity;}).reduce(function(a,b){return a+b;},0);var submitData=function submitData(e){e.preventDefault();var formData=new FormData(e.target);var clientData={firstName:formData.get('firstName'),lastName:formData.get('lastName'),tel:formData.get('tel'),address:formData.get('address'),addressNumber:formData.get('address-number'),purchase:items.map(function(x){return[x.name,x.price,x.quantity];}),totalSum:(total+1.99).toFixed(2)};purchase(clientData);};return/*#__PURE__*/_jsxs(\"div\",{className:\"form\",onSubmit:submitData,children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"\\u041F\\u043E\\u043B\\u0435\\u0442\\u0430\\u0442\\u0430 \\u0441\\u044A\\u0441 * \\u0441\\u0430 \\u0437\\u0430\\u0434\\u044A\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u043D\\u0438 \\u0437\\u0430 \\u043F\\u043E\\u043F\\u044A\\u043B\\u0432\\u0430\\u043D\\u0435!\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"client-info\",name:\"export\",method:\"POST\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first\",children:\"\\u0418\\u043C\\u0435 *\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"firstName\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last\",children:\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"lastName\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tel\",children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D *\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"tel\",name:\"tel\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"\\u0423\\u043B\\u0438\\u0446\\u0430 *\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",name:\"address\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adress-number\",children:\"\\u2116 *\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"address-number\",name:\"address-number\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"submit\",type:\"submit\",value:\"\\u0417\\u0430\\u0432\\u044A\\u0440\\u0448\\u0435\\u0442\\u0435 \\u043F\\u043E\\u0440\\u044A\\u0447\\u043A\\u0430\\u0442\\u0430\"})]})]});};","map":{"version":3,"names":["useContext","useState","ItemsInCart","Form","purchase","items","total","map","x","price","quantity","reduce","a","b","submitData","e","preventDefault","formData","FormData","target","clientData","firstName","get","lastName","tel","address","addressNumber","name","totalSum","toFixed"],"sources":["C:/Users/Niki PC/Documents/GitHub/react-priateli.online/src/components/form/Form.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { ItemsInCart } from \"../contexts/ItemsInCart\";\r\n\r\nexport const Form = ({ purchase }) => {\r\n    let items = useContext(ItemsInCart)\r\n\r\n    let total = items.map(x => x.price * x.quantity).reduce((a, b) => a + b, 0)\r\n\r\n    const submitData = (e) => {\r\n        e.preventDefault();\r\n        let formData = new FormData(e.target)\r\n\r\n        let clientData = {\r\n            firstName: formData.get('firstName'),\r\n            lastName: formData.get('lastName'),\r\n            tel: formData.get('tel'),\r\n            address: formData.get('address'),\r\n            addressNumber: formData.get('address-number'),\r\n            purchase: items.map(x => [x.name, x.price, x.quantity]),\r\n            totalSum: (total + 1.99).toFixed(2)\r\n        }\r\n        purchase(clientData);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form\" onSubmit={submitData}>\r\n            <p className=\"required\">Полетата със * са задължителни за попълване!</p>\r\n            <form className=\"client-info\" name=\"export\" method=\"POST\">\r\n                <label htmlFor=\"first\">Име *</label><br />\r\n                <input type=\"text\" id=\"firstName\" name=\"firstName\" /><br />\r\n                <label htmlFor=\"last\">Фамилия</label><br />\r\n                <input type=\"text\" id=\"lastName\" name=\"lastName\" /><br />\r\n                <label htmlFor=\"tel\">Телефон *</label><br />\r\n                <input type=\"number\" id=\"tel\" name=\"tel\" /><br />\r\n                <label htmlFor=\"address\">Улица *</label><br />\r\n                <input type=\"text\" id=\"address\" name=\"address\" /><br />\r\n                <label htmlFor=\"adress-number\">№ *</label><br />\r\n                <input type=\"number\" id=\"address-number\" name=\"address-number\" /><br />\r\n                <input className=\"submit\" type=\"submit\" value=\"Завършете поръчката\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}"],"mappings":"AAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,yBAA5B,C,wFAEA,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAO,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAClC,GAAIC,MAAK,CAAGL,UAAU,CAACE,WAAD,CAAtB,CAEA,GAAII,MAAK,CAAGD,KAAK,CAACE,GAAN,CAAU,SAAAC,CAAC,QAAIA,EAAC,CAACC,KAAF,CAAUD,CAAC,CAACE,QAAhB,EAAX,EAAqCC,MAArC,CAA4C,SAACC,CAAD,CAAIC,CAAJ,QAAUD,EAAC,CAAGC,CAAd,EAA5C,CAA6D,CAA7D,CAAZ,CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACA,GAAIC,SAAQ,CAAG,GAAIC,SAAJ,CAAaH,CAAC,CAACI,MAAf,CAAf,CAEA,GAAIC,WAAU,CAAG,CACbC,SAAS,CAAEJ,QAAQ,CAACK,GAAT,CAAa,WAAb,CADE,CAEbC,QAAQ,CAAEN,QAAQ,CAACK,GAAT,CAAa,UAAb,CAFG,CAGbE,GAAG,CAAEP,QAAQ,CAACK,GAAT,CAAa,KAAb,CAHQ,CAIbG,OAAO,CAAER,QAAQ,CAACK,GAAT,CAAa,SAAb,CAJI,CAKbI,aAAa,CAAET,QAAQ,CAACK,GAAT,CAAa,gBAAb,CALF,CAMblB,QAAQ,CAAEC,KAAK,CAACE,GAAN,CAAU,SAAAC,CAAC,QAAI,CAACA,CAAC,CAACmB,IAAH,CAASnB,CAAC,CAACC,KAAX,CAAkBD,CAAC,CAACE,QAApB,CAAJ,EAAX,CANG,CAObkB,QAAQ,CAAE,CAACtB,KAAK,CAAG,IAAT,EAAeuB,OAAf,CAAuB,CAAvB,CAPG,CAAjB,CASAzB,QAAQ,CAACgB,UAAD,CAAR,CACH,CAdD,CAgBA,mBACI,aAAK,SAAS,CAAC,MAAf,CAAsB,QAAQ,CAAEN,UAAhC,wBACI,UAAG,SAAS,CAAC,UAAb,8OADJ,cAEI,cAAM,SAAS,CAAC,aAAhB,CAA8B,IAAI,CAAC,QAAnC,CAA4C,MAAM,CAAC,MAAnD,wBACI,cAAO,OAAO,CAAC,OAAf,kCADJ,cACwC,aADxC,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,WAAtB,CAAkC,IAAI,CAAC,WAAvC,EAFJ,cAEyD,aAFzD,cAGI,cAAO,OAAO,CAAC,MAAf,wDAHJ,cAGyC,aAHzC,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,IAAI,CAAC,UAAtC,EAJJ,cAIuD,aAJvD,cAKI,cAAO,OAAO,CAAC,KAAf,0DALJ,cAK0C,aAL1C,cAMI,cAAO,IAAI,CAAC,QAAZ,CAAqB,EAAE,CAAC,KAAxB,CAA8B,IAAI,CAAC,KAAnC,EANJ,cAM+C,aAN/C,cAOI,cAAO,OAAO,CAAC,SAAf,8CAPJ,cAO4C,aAP5C,cAQI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,SAAtB,CAAgC,IAAI,CAAC,SAArC,EARJ,cAQqD,aARrD,cASI,cAAO,OAAO,CAAC,eAAf,sBATJ,cAS8C,aAT9C,cAUI,cAAO,IAAI,CAAC,QAAZ,CAAqB,EAAE,CAAC,gBAAxB,CAAyC,IAAI,CAAC,gBAA9C,EAVJ,cAUqE,aAVrE,cAWI,cAAO,SAAS,CAAC,QAAjB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,KAAK,CAAC,+GAA9C,EAXJ,GAFJ,GADJ,CAkBH,CAvCM"},"metadata":{},"sourceType":"module"}